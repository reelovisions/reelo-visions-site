<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Reelo Admin – Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      body { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; max-width: 420px; margin: 10vh auto; padding: 24px; }
      h1 { margin-bottom: 8px; }
      input, button { width: 100%; padding: 10px; margin: 6px 0; font-size: 16px; }
      .msg.err { color: #b00020; margin-top: 8px; white-space: pre-wrap; }
      .msg.ok  { color: #0a7f2e; margin-top: 8px; }
      .muted { opacity: .75; font-size: 14px; }
    </style>
  </head>
  <body>
    <h1>Admin Login</h1>
    <p class="muted">Sign in with your admin email + password.</p>
    <input id="email" placeholder="Email" value="reelovisions@gmail.com" />
    <input id="password" placeholder="Password" type="password" />
    <button id="login">Sign in</button>
    <div id="msg" class="msg"></div>

    <!-- Supabase client (UMD) -->
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <script>
      // Supabase project info
      const SUPABASE_URL  = "https://yvjwajopxbcaedzofqww.supabase.co";
      const SUPABASE_ANON = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl2andham9weGJjYWVkem9mcXd3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTkzODk0NjQsImV4cCI6MjA3NDk2NTQ2NH0.1VVEkgThCltfebpCWa-4DReb9qSO5zdt2a_83CfsBsY"; // <-- fill this

      const client = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON);
      const emailEl = document.getElementById('email');
      const passEl  = document.getElementById('password');
      const msgEl   = document.getElementById('msg');

      document.getElementById('login').addEventListener('click', async () => {
        msgEl.textContent = "Signing in…"; msgEl.className = "msg";
        const { error } = await client.auth.signInWithPassword({
          email: emailEl.value.trim(),
          password: passEl.value
        });
        if (error) {
          msgEl.textContent = "Sign-in error: " + error.message;
          msgEl.className = "msg err";
        } else {
          msgEl.textContent = "Signed in — redirecting…";
          msgEl.className = "msg ok";
          // go to the protected admin page (we'll add /admin/index.html next)
          location.href = "/admin/index.html";
        }
      });
    </script>
  </body>
</html>
